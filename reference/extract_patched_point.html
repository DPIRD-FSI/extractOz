<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Extract Weather From the Nearest Patched Point Weather Station in the SILO Network Using Australian GPS Coordinates — extract_patched_point • extractOz</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Extract Weather From the Nearest Patched Point Weather Station in the SILO Network Using Australian GPS Coordinates — extract_patched_point"><meta name="description" content="Extracts station-based weather data for the provided dates from the nearest
weather station to the provided longitude and latitude values in x.
Weather data for the single closest station(s) to the provided longitude
and latitude will always be returned."><meta property="og:description" content="Extracts station-based weather data for the provided dates from the nearest
weather station to the provided longitude and latitude values in x.
Weather data for the single closest station(s) to the provided longitude
and latitude will always be returned."><meta property="og:image" content="https://dpird-fsi.github.io/extractOz/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">extractOz</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.8</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/extractOz.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/DPIRD-FSI/extractOz/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Extract Weather From the Nearest Patched Point Weather Station in the SILO Network Using Australian GPS Coordinates</h1>
      <small class="dont-index">Source: <a href="https://github.com/DPIRD-FSI/extractOz/blob/v1.1.18/R/extract_patched_point.R" class="external-link"><code>R/extract_patched_point.R</code></a></small>
      <div class="d-none name"><code>extract_patched_point.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Extracts station-based weather data for the provided dates from the nearest
weather station to the provided longitude and latitude values in <code>x</code>.
Weather data for the single closest station(s) to the provided longitude
and latitude will always be returned.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">extract_patched_point</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">start_date</span>,</span>
<span>  <span class="va">end_date</span>,</span>
<span>  n_stations <span class="op">=</span> <span class="fl">1L</span>,</span>
<span>  values <span class="op">=</span> <span class="st">"all"</span>,</span>
<span>  api_key <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p><code>List</code>. An object with names containing <code>vector</code> pairings of
longitude and latitude values expressed as decimal degree values in that
order, each individual <code>vectors</code>' items should be named "x" (longitude) and
"y" (latitude), respectively.  The <code>list</code> item names should be descriptive
of the individual <code>vectors</code> and will be included in a "location" column of
the output.</p></dd>


<dt id="arg-start-date">start_date<a class="anchor" aria-label="anchor" href="#arg-start-date"></a></dt>
<dd><p>A <code>character</code> string or <code>Date</code> object representing the
beginning of the range to query in the format “yyyy-mm-dd”
(ISO8601).  Data returned is inclusive of this date.</p></dd>


<dt id="arg-end-date">end_date<a class="anchor" aria-label="anchor" href="#arg-end-date"></a></dt>
<dd><p>A <code>character</code> string or <code>Date</code> object representing the end of
the range query in the format  “yyyy-mm-dd” (ISO8601).  Data
returned is inclusive of this date.  Defaults to the current system date.</p></dd>


<dt id="arg-n-stations">n_stations<a class="anchor" aria-label="anchor" href="#arg-n-stations"></a></dt>
<dd><p>An <code>integer</code> value that indicates how many stations per
location should be returned.  Defaults to one (1) station with only the
nearest station being returned.  Values greater than 1 will result in the
next nearest stations being returned from 1 to n.</p></dd>


<dt id="arg-values">values<a class="anchor" aria-label="anchor" href="#arg-values"></a></dt>
<dd><p>A <code>character</code> string with the type of weather data to
return.  See <strong>Available Values</strong> for a full list of valid values.
Defaults to <code>all</code> with all available values being returned.</p></dd>


<dt id="arg-api-key">api_key<a class="anchor" aria-label="anchor" href="#arg-api-key"></a></dt>
<dd><p>A <code>character</code> string specifying a valid email address to use
for the request.  The query will return an error if a valid email address
is not provided.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>a <a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table::data.table</a> with the weather data queried with the
weather variables in alphabetical order.  The first eight columns will
always be:</p><ul><li><p><code>station_code</code>,</p></li>
<li><p><code>station_name</code>,</p></li>
<li><p><code>longitude</code>,</p></li>
<li><p><code>latitude</code>,</p></li>
<li><p><code>elev_m</code> (elevation in metres),</p></li>
<li><p><code>date</code> (ISO8601 format, "YYYYMMDD"),</p></li>
<li><p><code>year</code>,</p></li>
<li><p><code>month</code>,</p></li>
<li><p><code>day</code>,</p></li>
<li><p><code>extracted</code> (the date on which the query was made)</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="column-name-details">Column Name Details<a class="anchor" aria-label="anchor" href="#column-name-details"></a></h2>
    <p>Column names are converted from the default returns of the API to be
snake_case formatted and where appropriate, the names of the values that
are analogous between <acronym>SILO</acronym> and <acronym>DPIRD</acronym> data are named
using the same name for ease of interoperability, <em>e.g.</em>, using
<code><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind()</a></code> to create a <code>data.table</code> that contains data from both APIs.</p>
<p>The <acronym>SILO</acronym> documentation provides the following information
for the PatchedPoint data.</p>
<p><em>These data are a continuous daily time series of data at either recording
stations or grid points across Australia:</em></p><ul><li><p><em>Data at station locations consists of observational records which have
been supplemented by interpolated estimates when observed data are missing.
Datasets are available at approximately 8,000 Bureau of Meteorology
recording stations around Australia.</em></p></li>
<li><p><em>Data at grid points consists entirely of interpolated estimates. The
data are taken from the SILO gridded datasets and are available at any
pixel on a 0.05° × 0.05° grid over the land area of Australia (including
some islands).</em></p></li>
</ul></div>
    <div class="section level2">
    <h2 id="available-values">Available Values<a class="anchor" aria-label="anchor" href="#available-values"></a></h2>



<dl><dt>all</dt>
<dd><p>Which will return all of the following values</p></dd>

<dt>rain (mm)</dt>
<dd><p>Rainfall</p></dd>

<dt>max_temp (degrees C)</dt>
<dd><p>Maximum temperature</p></dd>

<dt>min_temp (degrees C)</dt>
<dd><p>Minimum temperature</p></dd>

<dt>vp (hPa)</dt>
<dd><p>Vapour pressure</p></dd>

<dt>vp_deficit (hPa)</dt>
<dd><p>Vapour pressure deficit</p></dd>

<dt>evap_pan (mm)</dt>
<dd><p>Class A pan evaporation</p></dd>

<dt>evap_syn (mm)</dt>
<dd><p>Synthetic
estimate<sup>1</sup></p></dd>

<dt>evap_comb (mm)</dt>
<dd><p>Combination (synthetic estimate pre-1970, class A pan
1970 onwards)</p></dd>

<dt>evap_morton_lake (mm)</dt>
<dd><p>Morton's shallow lake evaporation</p></dd>

<dt>radiation (Mj/m<sup>2</sup>)</dt>
<dd><p>Solar
exposure, consisting of both direct and diffuse components</p></dd>

<dt>rh_tmax (%)</dt>
<dd><p>Relative humidity at the time of maximum temperature</p></dd>

<dt>rh_tmin (%)</dt>
<dd><p>Relative humidity at the time of minimum temperature</p></dd>

<dt>et_short_crop (mm)</dt>
<dd><p>FAO56<sup>4</sup> short crop</p></dd>

<dt>et_tall_crop (mm)</dt>
<dd><p>ASCE<sup>5</sup> tall
crop<sup>6</sup></p></dd>

<dt>et_morton_actual (mm)</dt>
<dd><p>Morton's areal actual evapotranspiration</p></dd>

<dt>et_morton_potential (mm)</dt>
<dd><p>Morton's point potential evapotranspiration</p></dd>

<dt>et_morton_wet (mm)</dt>
<dd><p>Morton's wet-environment areal potential
evapotranspiration over land</p></dd>

<dt>mslp (hPa)</dt>
<dd><p>Mean sea level pressure</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="value-information">Value information<a class="anchor" aria-label="anchor" href="#value-information"></a></h2>



<p>Solar radiation: total incoming downward shortwave radiation on a horizontal
surface, derived from estimates of cloud oktas and sunshine
duration<sup>3</sup>.</p>
<p>Relative humidity: calculated using the vapour pressure measured at 9am, and
the saturation vapour pressure computed using either the maximum or minimum
temperature<sup>6</sup>.</p>
<p>Evaporation and evapotranspiration: an overview of the variables provided by
<acronym>SILO</acronym> is available here,
<a href="https://data.longpaddock.qld.gov.au/static/publications/Evapotranspiration_overview.pdf" class="external-link">https://data.longpaddock.qld.gov.au/static/publications/Evapotranspiration_overview.pdf</a>.</p>
    </div>
    <div class="section level2">
    <h2 id="data-codes">Data codes<a class="anchor" aria-label="anchor" href="#data-codes"></a></h2>



<p>The data are supplied with codes indicating how each datum was obtained.</p>
<dl><dt>0</dt>
<dd><p>Official observation as supplied by the Bureau of Meteorology</p></dd>

<dt>15</dt>
<dd><p>Deaccumulated rainfall (original observation was recorded
over a period exceeding the standard 24 hour observation period).</p></dd>

<dt>25</dt>
<dd><p>Interpolated from daily observations for that date.</p></dd>

<dt>26</dt>
<dd><p>Synthetic Class A pan evaporation, calculated from
temperatures, radiation and vapour pressure.</p></dd>

<dt>35</dt>
<dd><p>Interpolated from daily observations using an anomaly
interpolation method.</p></dd>

<dt>75</dt>
<dd><p>Interpolated from the long term averages of daily
observations for that day of year.</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>

<ol><li><p>Rayner, D. (2005). Australian synthetic daily Class A pan evaporation.
Technical Report December 2005, Queensland Department of Natural Resources
and Mines, Indooroopilly, Qld., Australia, 40 pp.</p></li>
<li><p>Morton, F. I. (1983). Operational estimates of areal evapotranspiration
and their significance to the science and practice of hydrology, <em>Journal
of Hydrology</em>, Volume 66, 1-76.</p></li>
<li><p>Zajaczkowski, J., Wong, K., &amp; Carter, J. (2013). Improved historical
solar radiation gridded data for Australia, <em>Environmental Modelling &amp;
Software</em>, Volume 49, 64–77. DOI: <a href="https://doi.org/10.1016/j.envsoft.2013.06.013" class="external-link">doi:10.1016/j.envsoft.2013.06.013</a>
.</p></li>
<li><p>Food and Agriculture Organization of the United Nations,
Irrigation and drainage paper 56: Crop evapotranspiration - Guidelines for
computing crop water requirements, 1998.</p></li>
<li><p>ASCE’s Standardized Reference Evapotranspiration Equation, proceedings of
the National Irrigation Symposium, Phoenix, Arizona, 2000.</p></li>
<li><p>For further details refer to Jeffrey, S.J., Carter, J.O., Moodie, K.B. and
Beswick, A.R. (2001). Using spatial interpolation to construct a
comprehensive archive of Australian climate data, <em>Environmental Modelling
and Software</em>, Volume 16/4, 309-330. DOI:
<a href="https://doi.org/10.1016/S1364-8152%2801%2900008-1" class="external-link">doi:10.1016/S1364-8152(01)00008-1</a>
.</p></li>
</ol></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other weather data:
<code><a href="extract_data_drill.html">extract_data_drill</a>()</code>,
<code><a href="extract_power.html">extract_power</a>()</code></p>
<p>Other SILO:
<code><a href="extract_data_drill.html">extract_data_drill</a>()</code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Adam H. Sparks, <a href="mailto:adamhsparks@gmail.com">adamhsparks@gmail.com</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># Source data from a list of latitude and longitude coordinates in NSW &amp; WA</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="va">locs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="st">"Merredin"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">118.28</span>, y <span class="op">=</span> <span class="op">-</span><span class="fl">31.48</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="st">"Corrigin"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">117.87</span>, y <span class="op">=</span> <span class="op">-</span><span class="fl">32.33</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="st">"Tamworth"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">150.84</span>, y <span class="op">=</span> <span class="op">-</span><span class="fl">31.07</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># Replace "your_api_key" with a valid email address.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="va">w</span> <span class="op">&lt;-</span> <span class="fu">extract_patched_point</span><span class="op">(</span></span></span>
<span class="r-in"><span>    x <span class="op">=</span> <span class="va">locs</span>,</span></span>
<span class="r-in"><span>    start_date <span class="op">=</span> <span class="st">"20210101"</span>,</span></span>
<span class="r-in"><span>    end_date <span class="op">=</span> <span class="st">"20210131"</span>,</span></span>
<span class="r-in"><span>    api_key <span class="op">=</span> <span class="st">"your_api_key"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Adam H. Sparks, Rodrigo Pires, Grains Research and Development Corporation.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

